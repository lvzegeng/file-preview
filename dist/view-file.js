var e,t=(e=require("nprogress"))&&"object"==typeof e&&"default"in e?e.default:e;require("nprogress/nprogress.css"),module.exports=function(e){!function(e){if("string"==typeof e);else{if("[object Object]"!==Object.prototype.toString.call(e))throw"参数只能是字符串或对象";if(!e.url)throw"属性 url 不可为空"}}(e);var n=e;"string"==typeof e&&(n={url:e});var r=n.url,o=n.method;void 0===o&&(o="get");var i=n.container;void 0===i&&(i="body");var a,c=n.showDownload;void 0===c&&(c=!0),t.configure({parent:i}),t.start(),fetch(r,{method:o}).then(function(e){var t=e.clone();return a=t.blob(),e.text()}).then(function(e){var t=document.createElement("div");if(t.innerText=e,t.className="view-file-text",c){var n=document.createElement("a");n.innerText="下载",n.download="",n.className="view-file-text-btn",a.then(function(e){n.href=URL.createObjectURL(e)}),t.appendChild(n)}document.querySelector(i).appendChild(t)}).finally(function(){t.done()})};
//# sourceMappingURL=view-file.js.map
